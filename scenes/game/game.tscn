[gd_scene load_steps=16 format=3 uid="uid://cld2wbv3iqt05"]

[ext_resource type="Script" path="res://scenes/camera/camera_controller.gd" id="1_kwyac"]
[ext_resource type="Script" path="res://scenes/game/scripts/game.gd" id="1_lrdil"]
[ext_resource type="PackedScene" uid="uid://jnwo22vy1jsj" path="res://scenes/game/base/base.tscn" id="1_q0hc1"]
[ext_resource type="Resource" uid="uid://wf037tnljxu2" path="res://core/resources/teams/team_left.tres" id="2_r27un"]
[ext_resource type="Shader" path="res://shaders/sky.gdshader" id="5_a1aak"]
[ext_resource type="PackedScene" uid="uid://d0sn8sb5ccbob" path="res://scenes/game/misc/water_body.tscn" id="8_fy1hl"]
[ext_resource type="Script" path="res://scenes/game/misc/debugger.gd" id="8_u3rrj"]
[ext_resource type="Script" path="res://scenes/game/scripts/bullet_manager.gd" id="9_ucfpf"]
[ext_resource type="PackedScene" uid="uid://cvidy1earqqq0" path="res://scenes/game/base/enemy_base.tscn" id="10_tihlc"]
[ext_resource type="Resource" uid="uid://dd6pt4gviahlu" path="res://core/resources/teams/team_right.tres" id="11_ek8oh"]
[ext_resource type="Script" path="res://scenes/game/scripts/ships_manager.gd" id="11_wfful"]
[ext_resource type="Script" path="res://scenes/game/scripts/screw_manager.gd" id="13_thedk"]
[ext_resource type="PackedScene" uid="uid://bbxtuwbkfqawl" path="res://scenes/ui/game_ui.tscn" id="15_hn43x"]
[ext_resource type="Script" path="res://scenes/game/temp_spawner.gd" id="15_rgq2s"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o45il"]
shader = ExtResource("5_a1aak")
shader_parameter/BackColor = Color(0, 0.4, 0.58, 1)
shader_parameter/CloudColor = Color(0.611765, 0.854902, 1, 1)
shader_parameter/speed = 0.5

[node name="Game" type="Node2D" node_paths=PackedStringArray("camera", "ship_manager", "bullet_manager")]
script = ExtResource("1_lrdil")
camera = NodePath("GameCam")
ship_manager = NodePath("ShipsManager")
bullet_manager = NodePath("BulletManager")

[node name="Base" parent="." instance=ExtResource("1_q0hc1")]
team_stats = ExtResource("2_r27un")

[node name="EnemyBase" parent="." instance=ExtResource("10_tihlc")]
position = Vector2(1283, 0)
team_stats = ExtResource("11_ek8oh")

[node name="Environment" type="Node" parent="."]

[node name="Water_Body" parent="Environment" instance=ExtResource("8_fy1hl")]
z_index = 200
position = Vector2(-26, 368)
k = 0.01
d = 0.08
spread = 0.0001
distance_between_springs = 30
spring_number = 100
depth = 100
random_waves = false

[node name="Background" type="ColorRect" parent="Environment"]
z_index = -1800
material = SubResource("ShaderMaterial_o45il")
offset_right = 1281.0
offset_bottom = 716.0

[node name="GameCam" type="Camera2D" parent="."]
position = Vector2(640, 360)
ignore_rotation = false
limit_left = 0
limit_top = 0
limit_right = 1280
position_smoothing_enabled = true
editor_draw_drag_margin = true
script = ExtResource("1_kwyac")
max_zoom = 3.0

[node name="AudioListener2D" type="AudioListener2D" parent="GameCam"]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameUI" parent="CanvasLayer" node_paths=PackedStringArray("ship_manager") instance=ExtResource("15_hn43x")]
offset_top = 3.0
offset_bottom = 3.0
ship_manager = NodePath("../../ShipsManager")

[node name="Debugger" type="Control" parent="CanvasLayer" node_paths=PackedStringArray("camera", "ship_spawner", "bullet_manager")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("8_u3rrj")
camera = NodePath("../../GameCam")
ship_spawner = NodePath("../../ShipsManager")
bullet_manager = NodePath("../../BulletManager")

[node name="LabelsContainer" type="VBoxContainer" parent="CanvasLayer/Debugger"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ShipsManager" type="Node" parent="." node_paths=PackedStringArray("bullet_manager", "screw_manager")]
script = ExtResource("11_wfful")
bullet_manager = NodePath("../BulletManager")
screw_manager = NodePath("../ScrewManager")

[node name="SpawnPos" type="Marker2D" parent="ShipsManager"]
position = Vector2(101, 363)

[node name="BulletManager" type="Node" parent="."]
script = ExtResource("9_ucfpf")

[node name="ScrewManager" type="Node" parent="." node_paths=PackedStringArray("base")]
script = ExtResource("13_thedk")
base = NodePath("../Base")

[node name="TempSpawner" type="Node2D" parent="."]
position = Vector2(1184, 363)
script = ExtResource("15_rgq2s")

[node name="Spawner" type="Timer" parent="TempSpawner"]
wait_time = 5.0
autostart = true

[connection signal="timeout" from="TempSpawner/Spawner" to="TempSpawner" method="_on_spawner_timeout"]
